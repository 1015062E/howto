<br>
<table>
<td>WARNING</td>
<td>Please refer to this document with an understanding of the potential risks involved. Proceed at your own discretion.</td>
</table>
<br>

```cmd
C:\Users\admin>wmic useraccount where (name="UserName" and domain="DomainName") get name,sid
Name     SID
UserName  S-1-5-SID

C:\Users\admin>wmic useraccount where sid="S-1-5-SID" get name,domain
Domain      Name
DomainName  UserName
```

# Using PsGetSid to Retrieve User SID

In this post, we'll walk through the steps to use the `PsGetSid` command from the Sysinternals suite to retrieve the Security Identifier (SID) for a domain user. 

## Prerequisites

- **PsTools Suite**: Download the PsTools suite from the Microsoft Learn website - https://learn.microsoft.com/en-us/sysinternals/downloads/psgetsid

## Steps to Use PsGetSid

### 1. Download PsTools

First, download the PsTools suite from the official Microsoft Learn website.

### 2. Extract PsGetSid

Extract the contents of the PsTools ZIP file to a directory of your choice, for example, `C:\PsTools`.

### 3. Open Command Prompt

Press `Win + R`, type `cmd`, and press Enter to open Command Prompt.

### 4. Navigate to the PsTools Directory

Use the `cd` command to navigate to the directory where you extracted PsTools:
```shell
cd C:\PsTools
```

### 5. Run PsGetSid

Now you can run the `PsGetSid` command to get the SID for the domain user `domain\username`:
```shell
psgetsid domain\username
```

### Example

Here’s an example of how to run the command:
```shell
C:\PsTools>psgetsid domain\username
```

This command will display the SID for the specified user.

## Additional Tips

If you want to make `PsGetSid` available from any directory, you can add the PsTools directory to your system's PATH environment variable.

## Conclusion

Using `PsGetSid` is a straightforward way to retrieve the SID for a domain user. This guide should help you get started quickly. 

---

*This content is generated by AI to assist with your technical needs.*

---
<br><table><td>WARNING</td><td>Please refer to this document with an understanding of the potential risks involved. Proceed at your own discretion.</td></table><br>

**Disclaimer:** This content was generated with the assistance of AI and should be verified for accuracy and relevance to your specific use case.

## How to Retrieve a User's SID and Username in Windows

### Introduction
In Windows environments, a **Security Identifier (SID)** uniquely identifies users and groups. There are scenarios where you need to find a **SID from a username** or retrieve the **username from a SID**. This guide covers multiple methods to achieve both.

### Finding a User's SID
If you need to find a **user’s SID**, use one of the following methods:

#### **1. Using Command Prompt (WMIC)**
Run the following command, replacing `<UserName>` and `<DomainName>` with the actual values:

```cmd
wmic useraccount where (name="<UserName>" and domain="<DomainName>") get name,sid
```

##### **Example Output:**
```
Name     SID
User01   S-1-5-21-XXXXXXXXXX-XXXXXXXXXX-XXXXXXXXXX-YYYY
```

#### **2. Using PowerShell**
You can also retrieve the SID using PowerShell:

```powershell
$objUser = New-Object System.Security.Principal.NTAccount("<DomainName>", "<UserName>")
$strSID = $objUser.Translate([System.Security.Principal.SecurityIdentifier])
$strSID.Value
```

##### **Example Output:**
```
S-1-5-21-XXXXXXXXXX-XXXXXXXXXX-XXXXXXXXXX-YYYY
```

#### **3. Using Registry Editor (GUI Method)**
1. Open **Registry Editor** (`regedit`).
2. Navigate to:
   ```
   HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\ProfileList
   ```
3. Each subkey represents a user’s SID.
4. Click a subkey and check **ProfileImagePath** to match it to a username.

---

### Finding a Username from a SID
If you already have a **SID** and need to find the corresponding **username**, use the following methods:

#### **1. Using Command Prompt (WMIC)**
Run:

```cmd
wmic useraccount where sid="<SID>" get name,domain
```

##### **Example Output:**
```
Domain      Name
----------  ------
DOMAIN01    User01
```

#### **2. Using PowerShell**
```powershell
$objSID = New-Object System.Security.Principal.SecurityIdentifier("<SID>")
$objUser = $objSID.Translate([System.Security.Principal.NTAccount])
$objUser.Value
```

##### **Example Output:**
```
DOMAIN01\User01
```

#### **3. Using Active Directory Users and Computers (For Domain Users)**
1. Open **Run** (`Win + R`), type `dsa.msc`, and press **Enter**.
2. Find the user, right-click → **Properties**.
3. Go to the **Attribute Editor** tab.
4. Look for the **objectSID** attribute.

---

### Conclusion
By following these methods, you can retrieve **SIDs from usernames** and vice versa. PowerShell and WMIC provide fast command-line options, while **Registry Editor** and **Active Directory Users and Computers (ADUC)** offer GUI-based alternatives.
